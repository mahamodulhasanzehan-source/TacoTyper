
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Default (Taco) Theme */
  --color-background: #000000;
  --color-game-border: #ff2a2a;
  --color-text: #ffffff;
  --color-accent: #e55934;
  --color-correct: #57a863;
  --color-warn: #f4b400;
  --color-secondary-btn: #7f8c8d;
  --color-pro: #ff0055;
  --color-combo-red: #ff2a2a;
  --color-combo-purple: #d900ff;
  --color-universal: #4facfe;
  
  --color-rotten: #7cfc00;
  --color-heart: #ff69b4;

  /* Animation Easing */
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  --ease-smooth: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
}

body.theme-dark {
  /* Dark (Black & White) Theme Override */
  --color-background: #000000;
  --color-game-border: #ffffff;
  --color-text: #666666; /* Dimmed for remaining text */
  --color-accent: #ffffff;
  --color-correct: #ffffff; /* Bright for typed text */
  --color-warn: #aaaaaa;
  --color-secondary-btn: #333333;
  --color-pro: #ffffff;
  --color-combo-red: #eeeeee;
  --color-combo-purple: #cccccc;
  --color-universal: #dddddd;
  
  --color-rotten: #ffffff;
  --color-heart: #888888;
  
  filter: grayscale(100%) contrast(1.2);
}

body.theme-neon {
  /* Neon Theme Override */
  --color-background: #050505;
  /* The Main border uses the dynamic neon color */
  --color-game-border: var(--color-neon);
  --color-text: #ffffff;
  /* Accents use the neon color */
  --color-accent: var(--color-neon);
  --color-correct: var(--color-neon);
  --color-warn: #ffffff;
  --color-secondary-btn: #111111;
  --color-pro: var(--color-neon);
  --color-combo-red: #ffffff;
  --color-combo-purple: #ffffff;
  --color-universal: var(--color-neon);
  
  --color-rotten: #ff0000;
  --color-heart: #ffffff;
}

/* 
   CRITICAL: Override all white borders in Neon mode to use the neon color.
   Using !important to override Tailwind utility classes.
*/
body.theme-neon .border-white {
  border-color: var(--color-neon) !important;
  box-shadow: 0 0 8px var(--color-neon), inset 0 0 5px var(--color-neon) !important;
  text-shadow: 0 0 5px var(--color-neon);
}

/* Also make inputs and specific elements glow */
body.theme-neon input, 
body.theme-neon button {
  text-shadow: none; /* Reset text shadow for readability inside buttons/inputs unless hovered */
}

/* Custom Scrollbar for the terminal/text feel */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
::-webkit-scrollbar-track {
  background: #111;
}
::-webkit-scrollbar-thumb {
  background: #333;
  border-radius: 5px;
}
::-webkit-scrollbar-thumb:hover {
  background: #555;
}

html, body, #root {
  height: 100%;
}

body {
  margin: 0;
  overflow: hidden;
  background-color: var(--color-background);
  color: var(--color-text);
  /* Prevent pull-to-refresh on mobile */
  overscroll-behavior: none; 
}

/* --- Minesweeper 3D Tiles --- */
.mine-cell {
  position: relative;
  width: 100%;
  height: 100%;
  /* Default Raised State */
  background-color: #333;
  border-top: 3px solid #666;
  border-left: 3px solid #666;
  border-right: 3px solid #111;
  border-bottom: 3px solid #111;
  transition: transform 0.05s ease;
}

.mine-cell:active {
  /* Pressed State */
  border-top: 2px solid #111;
  border-left: 2px solid #111;
  border-right: 2px solid #444;
  border-bottom: 2px solid #444;
  background-color: #222;
}

.mine-cell.revealed {
  /* Depressed/Flat State */
  background-color: #222;
  border: 1px solid #1a1a1a;
  box-shadow: inset 1px 1px 3px rgba(0,0,0,0.5);
}

.mine-cell.revealed.mine {
  background-color: #8b0000;
  border-color: #500;
  box-shadow: inset 0 0 10px #ff0000;
}

/* --- Global Animations & Styles --- */
@keyframes spicyPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.02); }
  100% { transform: scale(1); }
}
@keyframes popIn {
  0% { transform: scale(0.8); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}
@keyframes heartBeat { 
  0%, 100% { transform: scale(1); } 
  50% { transform: scale(1.1); } 
}
@keyframes shake { 
  0%, 100% { transform: translateX(0); } 
  25% { transform: translateX(6px); } 
  75% { transform: translateX(-6px); } 
}
@keyframes blinker { 
  50% { opacity: 0.3; } 
}
@keyframes fadeIn { 
  from { opacity: 0; transform: translateY(10px); } 
  to { opacity: 1; transform: translateY(0); } 
}
@keyframes wordPop { 
  0% { transform: scale(0.5); opacity: 0; } 
  70% { transform: scale(1.1); } 
  100% { transform: scale(1); opacity: 1; } 
}
@keyframes floatUp { 
  0% { transform: translateY(0) scale(1); opacity: 1; } 
  100% { transform: translateY(-40px) scale(1.1); opacity: 0; } 
}
@keyframes sparkleOut { 
  0% { transform: translate(0, 0) scale(1) rotate(0deg); opacity: 1; } 
  100% { transform: translate(var(--tx), var(--ty)) scale(0) rotate(180deg); opacity: 0; } 
}
@keyframes spin { 
  0% { transform: rotate(0deg); } 
  100% { transform: rotate(360deg); } 
}

/* Utility Classes for Animations */
.animate-spicy-pulse { animation: spicyPulse 2s var(--ease-smooth) infinite; }
.animate-pop-in { animation: popIn 0.5s var(--ease-spring) forwards; }
.animate-heart-beat { animation: heartBeat 1.2s var(--ease-smooth) infinite; }
.animate-shake { animation: shake 0.3s var(--ease-spring); }
.animate-shake-long { animation: shake 0.5s var(--ease-spring); }
.animate-blink { animation: blinker 1.5s linear infinite; }
.animate-fade-in { animation: fadeIn 0.6s var(--ease-out-expo) forwards; }

.word-enter { animation: wordPop 0.4s var(--ease-spring) forwards; will-change: transform, opacity; }

.popup-text { 
  position: absolute; 
  animation: floatUp 0.8s var(--ease-out-expo) forwards; 
  pointer-events: none; 
  z-index: 100; 
  font-weight: bold; 
  text-shadow: 2px 2px 0px #000; 
  font-family: "Press Start 2P"; 
  white-space: nowrap; 
  will-change: transform, opacity;
}

.sparkle { 
  position: absolute; 
  width: 8px; 
  height: 8px; 
  border-radius: 50%; 
  animation: sparkleOut 0.6s var(--ease-out-expo) forwards; 
  pointer-events: none; 
  z-index: 90; 
  box-shadow: 0 0 5px currentColor; 
  will-change: transform, opacity;
}

.loading-spinner { 
  border: 4px solid #333; 
  border-top: 4px solid #fff; 
  border-radius: 50%; 
  width: 40px; 
  height: 40px; 
  animation: spin 1s linear infinite; 
}

/* Hover transitions */
.hover-scale {
  transition: transform 0.3s var(--ease-spring), border-color 0.3s ease;
  will-change: transform;
}
.hover-scale:hover {
  transform: scale(1.05);
}
